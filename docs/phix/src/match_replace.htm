<head>
 <body>
  <toc>
   <these>
    <get>
     <stripped>
      <h1 class="title">match_replace</h1>
      <div id="mainSection">
       <table>
        <col style="width: 5%"/>
        <tr>
         <td valign=top>
          <b>Definition:</b>
         </td>
         <td>
         <a href="sequence.htm">sequence</a> res = match_replace(<a href="object.htm">object</a> needle, 
                                                                 <a href="sequence.htm">sequence</a> haystack, 
                                                                 <a href="object.htm">object</a> replacement,
                                                                 <a href="integer.htm">integer</a> max=0)
         </td>
        </tr>
        <tr>
         <td valign=top>
          <b>Description:</b>
         </td>
         <td>
            Finds a "needle" in a "haystack", and replace any, or only the first few, occurrences with a replacement.
            <br>
            <br>
            needle: an object to search and perhaps replace.<br>
            haystack: a <a href="sequence.htm">sequence</a> to be inspected.<br>
            replacement: an object to substitute for instances of needle.<br>
            max: number of items to replace, or 0 to replace all occurrences
            <br>
            <br>
            Returns a <a href="sequence.htm">sequence</a>, the modified haystack.
         </td>
        </tr>
        <tr>
         <td valign=top>
          <b>Comments:</b>
         </td>
         <td>
            Replacements will not be made recursively on the part of <code>haystack</code> that was already changed.
            <br>
            <br>
            If <code>max</code> is 0 or less, any occurrence of <code>needle</code> in <code>haystack</code> will be replaced by <code>replacement</code>.<br>
            Otherwise, only the first <code>max</code> occurrences are replaced.
            <br>
            <br>
            If either <code>needle</code> or <code>replacement</code> are atoms they are treated as if you had passed in a length-1 
            <a href="sequence.htm">sequence</a> containing the said <a href="atom.htm">atom</a>.
            <br>
            <br>
            This routine is defined in builtins\matchrepl.e (an autoinclude) and is provided only for compatibility with OpenEuphoria.
         </td>
        </tr>
        <tr>
         <td valign=top>
          <b>Example:</b>
         </td>
         <td>
<!--eucode>
s = match_replace("the", "the cat ate the food under the table", "THE", 0)  -- s is "THE cat ate THE food under THE table"
s = match_replace("the", "the cat ate the food under the table", "THE", 2)  -- s is "THE cat ate THE food under the table"
s = match_replace('/', "/euphoria/demo/unix", '\\', 2)                      -- s is "\\euphoria\\demo/unix"
</eucode-->
<pre>
<font color="#000000">s</font><font color="#0000FF"> =</font><font color="#5E005E"> match_replace</font><font color="#0000FF">(</font><font color="#008000">"the"</font><font color="#0000FF">,</font><font color="#008000"> "the cat ate the food under the table"</font><font color="#0000FF">,</font><font color="#008000"> "THE"</font><font color="#0000FF">,</font><font color="#000000"> 0</font><font color="#0000FF">) </font><font color="#000080"><i> -- s is "THE cat ate THE food under THE table"
</i></font><font color="#000000">s</font><font color="#0000FF"> =</font><font color="#5E005E"> match_replace</font><font color="#0000FF">(</font><font color="#008000">"the"</font><font color="#0000FF">,</font><font color="#008000"> "the cat ate the food under the table"</font><font color="#0000FF">,</font><font color="#008000"> "THE"</font><font color="#0000FF">,</font><font color="#000000"> 2</font><font color="#0000FF">) </font><font color="#000080"><i> -- s is "THE cat ate THE food under the table"
</i></font><font color="#000000">s</font><font color="#0000FF"> =</font><font color="#5E005E"> match_replace</font><font color="#0000FF">(</font><font color="#008000">'/'</font><font color="#0000FF">,</font><font color="#008000"> "/euphoria/demo/unix"</font><font color="#0000FF">,</font><font color="#008000"> '\\'</font><font color="#0000FF">,</font><font color="#000000"> 2</font><font color="#0000FF">)                     </font><font color="#000080"><i> -- s is "\\euphoria\\demo/unix"</i></font>
</pre>
         </td>
        </tr>
       </table>
      </div>
     </stripped>
    </get>
   </these>
  </toc>
 </body>
</head>
